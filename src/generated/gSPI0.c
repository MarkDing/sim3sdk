//------------------------------------------------------------------------------
// Copyright (c) 2012 by Silicon Laboratories. 
// All rights reserved. This program and the accompanying materials
// are made available under the terms of the Silicon Laboratories End User 
// License Agreement which accompanies this distribution, and is available at
// http://developer.silabs.com/legal/version/v10/License_Agreement_v10.htm
// Original content and implementation provided by Silicon Laboratories.
//------------------------------------------------------------------------------

//==============================================================================
// WARNING:
//
// This file is auto-generated by AppBuilder and should not be modified.
// Any hand modifications will be lost if the project is regenerated.
//==============================================================================
// library
// hal
#include <si32_device.h>
#include <SI32_CLKCTRL_A_Type.h>
#include <SI32_SPI_A_Type.h>
#include <SI32_DMACTRL_A_Type.h>
#include <SI32_DMADESC_A_Type.h>
#include <SI32_DMAXBAR_A_Type.h>
#include <SI32_DMAXBAR_A_Support.h>

// application
#include "gSPI0.h"




//==============================================================================
//CONFIGURATION FUNCTIONS
//==============================================================================

//------------------------------------------------------------------------------
void gSPI0_enter_master_mode_config(void)
{
   // SETUP MODULE
   SI32_SPI_A_select_4wire_master_mode_nss_high (SI32_SPI_0);
   SI32_SPI_A_write_clkrate(SI32_SPI_0, 0x00000040);
   SI32_SPI_A_set_data_length(SI32_SPI_0, 8);
   SI32_SPI_A_select_master_mode(SI32_SPI_0);
   SI32_SPI_A_enable_module(SI32_SPI_0);
   

}

//------------------------------------------------------------------------------
void gSPI0_enter_dma_master_mode_config(void)
{
	// 1. Configure the peripheral for DMA transfers
   SI32_SPI_A_select_4wire_master_mode_nss_high (SI32_SPI_0);
   SI32_SPI_A_write_clkrate(SI32_SPI_0, 0x00000040);
   SI32_SPI_A_set_data_length(SI32_SPI_0, 8);
   SI32_SPI_A_select_master_mode(SI32_SPI_0);
   SI32_SPI_A_enable_module(SI32_SPI_0);
   SI32_SPI_A_select_rx_fifo_threshold(SI32_SPI_0,  SI32_SPI_FIFO_THRESHOLD_FOUR);
   SI32_SPI_A_select_tx_fifo_threshold(SI32_SPI_0,  SI32_SPI_FIFO_THRESHOLD_FOUR);
}

//-eof--------------------------------------------------------------------------
